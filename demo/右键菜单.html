<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, user-scalable=no,
          maximum-scale=1.0, minimum-scale=1.0&quot;>
    <title>右键菜单</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        li{
            list-style: none;
            text-align: center;
        }
        .menu{
            width: 50px;
            height: 110px;
            background-color: cornflowerblue;
            position: absolute;
            display: none;
        }
    </style>
</head>
<body>
    <div class="menu" id="menu">
        <ul>
            <li data-liName="1">11</li>
            <li data-liName="2">22</li>
            <li data-liName="3">33</li>
            <li data-liName="4">44</li>
        </ul>
    </div>
</body>
<script>
    let menuBox=document.getElementById('menu');
    let menuList=document.getElementsByTagName('li');
    let menuUl=document.getElementsByTagName('ul');
    //右键显示菜单
    document.addEventListener('contextmenu',(event)=>{
        event.preventDefault();
        let menuX=event.clientX;
        let menuY=event.clientY;
        if(Number(innerWidth)-menuX<parseInt(window.getComputedStyle(menuBox).getPropertyValue('width'))){
            menuBox.style.left=Number(innerWidth)-parseInt(window.getComputedStyle(menuBox).getPropertyValue('width'))+'px';
        }else{
            menuBox.style.left=menuX+'px';
        }
        if(Number(innerHeight)-menuY<parseInt(window.getComputedStyle(menuBox).getPropertyValue('height'))){
            menuBox.style.top=Number(innerHeight)-parseInt(window.getComputedStyle(menuBox).getPropertyValue('height'))+'px';
        }else{
            menuBox.style.top=menuY+'px';
        }
        menuBox.style.display='block';
    })
    //左键隐藏菜单
    document.addEventListener('click',(event)=>{
        event.stopPropagation();
        menuBox.style.display='none';
    })
    //给list绑定事件,获取li后循环绑定
    // for(let li of menuList){
    //     li.addEventListener('click',(event)=>{
    //         event.stopPropagation();
    //         console.log('list')
    //     })
    // }

    //给list绑定事件,ul事件委托绑定
    menuUl[0].onclick=(event)=>{
        let liName=event.target.getAttribute('data-liName');
        event.stopPropagation();
        if (liName==='1'){
            console.log('1');
        }else if(liName==='2'){
            console.log('2');
        }else if(liName==='3'){
            console.log('3');
        }else if(liName==='4'){
            console.log('4');
        }
    }
</script>
</html>